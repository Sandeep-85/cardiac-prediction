{% extends 'RUser/design.html' %}
{% block userblock %}


<link rel="icon" href="images/icon.png" type="image/x-icon" />

	<link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Fredoka+One" rel="stylesheet">



		<style>
			body {background-color:#000000;}
			.container-fluid {padding:50px;}
			.container{background-color:white;padding:50px;   }
			#title{font-family: 'Fredoka One', cursive;
}
			.text-uppercase{
			font-family: 'Righteous', cursive;

			}
			.tweettext{

    border: 2px solid yellowgreen;
    width: 904px;
    height: 202px;
    overflow: scroll;
    background-color:;
}
		.style1 {
	color: #FF0000;
	font-weight: bold;
}
.style4 {color: #FFFF00; font-weight: bold; }
.style6 {
	font-size: 24px;
	color: #FFFF00;
	font-weight: bold;
}
.style8 {
	font-style: italic;
	color: #FFFF00;
	font-weight: bold;
}
.style11 {color: #FFFFFF}
/* Make all inputs/selects same size */
table input, table select {
  width: 170px;
  height: 32px;
  box-sizing: border-box;
  padding: 4px 8px;
}
/* Next steps box */
.next-steps {
  width: 100%;
  max-width: 980px;
  margin: 14px auto 0;
  padding: 14px 16px;
  border-radius: 10px;
  border: 1px solid #ddd;
  background: #fafafa;
  font-family: Arial, sans-serif;
}
.next-steps h3{
  margin: 0 0 8px;
  font-size: 16px;
}
.next-steps ul{
  margin: 8px 0 0 18px;
}
.tag {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: bold;
  vertical-align: middle;
}
.tag-high { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
.tag-low { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
.disclaimer { margin-top: 10px; font-size: 12px; color: #555; }
.speak-btn{
  margin: 10px auto 0;
  display: inline-block;
  padding: 6px 12px;
  border-radius: 8px;
  border: 1px solid #ccc;
  background: #fff;
  cursor: pointer;
  font-weight: bold;
}
        </style>

	<body>
	<div class="container-fluid">
		<div class="container">

			<div class="row">
				<div class="col-md-5">

                   <form role="form" method="POST" >
						{% csrf_token %}
						<fieldset>
							<p class="text-uppercase pull-center style1">PREDICTION OF CARDIAC ARREST TYPE !!! </p>
                            <hr>

                                {% csrf_token %}
                                <table width="1122" align="center">
                                  <tr>
                                    <td height="44" colspan="4" bgcolor="#FF0000"><div align="center" class="style8">ENTER ALL DETAILS FROM HEALTHCARE DATA SETS !!! </div></td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER Fid</div></td>
                                    <td><input type="text" name="Fid"></td>
                                    <td bgcolor="#FF0000"><div align="center" class="style4">ENTER Age_In_Days</div></td>
                                    <td>
                                      <input type="number" step="1" name="Age_In_Days" list="age_list">
                                      <datalist id="age_list">
                                        {% for opt in choices.Age_In_Days %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER Sex</div></td>
                                    <td>
                                      <select name="Sex">
                                        <option value="" selected disabled hidden></option>
                                        {% for opt in choices.Sex %}
                                          <option value="{{opt}}">{{opt}}</option>
                                        {% endfor %}
                                      </select>
                                    </td>
                                    <td bgcolor="#FF0000"><div align="center" class="style4">ENTER ChestPainType</div></td>
                                    <td>
                                      <select name="ChestPainType">
                                        <option value="" selected disabled hidden></option>
                                        {% for opt in choices.ChestPainType %}
                                          <option value="{{opt}}">{{opt}}</option>
                                        {% endfor %}
                                      </select>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER RestingBP(<span class="style11">Heart Rate</span>)</div></td>
                                    <td>
                                      <input type="number" step="any" name="RestingBP" list="restingbp_list"
                                        {% if ranges.RestingBP %}min="{{ranges.RestingBP.min}}" max="{{ranges.RestingBP.max}}"{% endif %}>
                                      <datalist id="restingbp_list">
                                        {% for opt in choices.RestingBP %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                    <td bgcolor="#FF0000"><div align="center" class="style4">ENTER RestingECG</div></td>
                                    <td>
                                      <select name="RestingECG">
                                        <option value="" selected disabled hidden></option>
                                        {% for opt in choices.RestingECG %}
                                          <option value="{{opt}}">{{opt}}</option>
                                        {% endfor %}
                                      </select>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER MaxHR</div></td>
                                    <td>
                                      <input type="number" step="any" name="MaxHR" list="maxhr_list"
                                        {% if ranges.MaxHR %}min="{{ranges.MaxHR.min}}" max="{{ranges.MaxHR.max}}"{% endif %}>
                                      <datalist id="maxhr_list">
                                        {% for opt in choices.MaxHR %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                    <td bgcolor="#FF0000"><div align="center" class="style4">ENTER ExerciseAngina</div></td>
                                    <td>
                                      <select name="ExerciseAngina">
                                        <option value="" selected disabled hidden></option>
                                        {% for opt in choices.ExerciseAngina %}
                                          <option value="{{opt}}">{{opt}}</option>
                                        {% endfor %}
                                      </select>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER Oldpeak</div></td>
                                    <td>
                                      <input type="number" step="any" name="Oldpeak" list="oldpeak_list"
                                        {% if ranges.Oldpeak %}min="{{ranges.Oldpeak.min}}" max="{{ranges.Oldpeak.max}}"{% endif %}>
                                      <datalist id="oldpeak_list">
                                        {% for opt in choices.Oldpeak %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                    <td bgcolor="#FF0000"><div align="center" class="style4">ENTER ST_Slope</div></td>
                                    <td>
                                      <select name="ST_Slope">
                                        <option value="" selected disabled hidden></option>
                                        {% for opt in choices.ST_Slope %}
                                          <option value="{{opt}}">{{opt}}</option>
                                        {% endfor %}
                                      </select>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER slp</div></td>
                                    <td>
                                      <input type="number" step="any" name="slp" list="slp_list">
                                      <datalist id="slp_list">
                                        {% for opt in choices.slp %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                    <td bgcolor="#FF0000"><div align="center" class="style4">ENTER caa</div></td>
                                    <td>
                                      <input type="number" step="any" name="caa" list="caa_list">
                                      <datalist id="caa_list">
                                        {% for opt in choices.caa %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td height="44" bgcolor="#FF0000"><div align="center" class="style4">ENTER thall</div></td>
                                    <td>
                                      <input type="number" step="any" name="thall" list="thall_list">
                                      <datalist id="thall_list">
                                        {% for opt in choices.thall %}
                                          <option value="{{opt}}"></option>
                                        {% endfor %}
                                      </datalist>
                                    </td>
                                    <td bgcolor="#FFFFFF"><div align="center" class="style4"></div></td>
                                    <td>&nbsp;</td>
                                  </tr>
                                  <tr>
                                    <td width="326" height="44" bgcolor="#FFFFFF">&nbsp;</td>
                                    <td width="234">&nbsp;</td>
                                    <td width="336"><input name="submit" type="submit" class="style1" value="Predict"></td>
                                    <td width="206">&nbsp;</td>
                                  </tr>
                                </table>
					 </fieldset>
				  </form>


 					<form role="form" method="POST" >
						{% csrf_token %}
						<fieldset>

                            <hr>
                            <div>
                              <table width="719" height="72" border="0" align="center" >
                                    <tr><td width="414" bgcolor="#FF0000"><div align="center"><span class="style6">Prediction of Cardiac Arrest Type</span> <span class="style4">::</span> </div></td>



                                      <td width="295" bgcolor="#FFFFFF" style="color:red; font-size:20px; font-family:fantasy" ><div align="center"><strong>{{objs}}</strong></div></td>
                                    </tr>
                      </table>

                              {% if voice_text %}
                              <div align="center">
                                <button type="button" class="speak-btn" onclick="window.__speakPrediction && window.__speakPrediction()">
                                  Speak result
                                </button>
                              </div>
                              <script>
                                (function () {
                                  var text = "{{ voice_text|escapejs }}";
                                  function speak() {
                                    if (!("speechSynthesis" in window)) return;
                                    window.speechSynthesis.cancel();
                                    var u = new SpeechSynthesisUtterance(text);
                                    u.lang = "en-US";
                                    u.rate = 1;
                                    u.pitch = 1;
                                    window.speechSynthesis.speak(u);
                                  }
                                  window.__speakPrediction = speak;
                                  // Try auto-speak once after render
                                  window.addEventListener("load", function () {
                                    setTimeout(speak, 300);
                                  });
                                })();
                              </script>
                              {% endif %}

                              {% if next_steps %}
                              <div class="next-steps">
                                <h3>
                                  Next process / Suggested next steps
                                  {% if urgency == "High" %}
                                    <span class="tag tag-high">HIGH</span>
                                  {% elif urgency == "Low" %}
                                    <span class="tag tag-low">LOW</span>
                                  {% endif %}
                                </h3>
                                {% if positive_lines %}
                                  <div style="margin: 6px 0 10px; font-weight: bold; color: #166534;">
                                    {{ positive_lines.0 }}<br>
                                    {{ positive_lines.1 }}
                                  </div>
                                {% endif %}
                                <ul>
                                  {% for step in next_steps %}
                                    <li>{{ step }}</li>
                                  {% endfor %}
                                </ul>
                                {% if disclaimer %}
                                  <div class="disclaimer">{{ disclaimer }}</div>
                                {% endif %}
                              </div>
                              {% endif %}



                            </div>




						</fieldset>
					</form>
				</div>

				<div class="col-md-2">
					<!-------null------>
				</div>
            </div>
        </div>
    </div>
{% endblock %}
    <tr>